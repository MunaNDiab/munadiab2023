<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 30px;
        }

        td {
            border: 1px double black;
        }

        table {

            border: 1px solid black;
        }

        .c1 {

            width: 270px;
        }

        .c2 {

            width: 284px;
        }

        .image {
            max-width: 300px;
            height: 230px;
        }

        #image {

            max-width: 270px;
            max-height: 230px;
        }
    </style>
</head>

<body>
    <form action="" method="">
        <h3>Get User Info Using Async/Await </h3>
        <table class="c1">
            <tr>
                <td> ID: </td>
                <td><input type="text" id="user" /></td>
            </tr>
            <tr>
                <td></td>
                <td> <input type="button" onClick="getData()" Value="Get User" /> <input type="reset" Value="Reset" />
                </td>
            </tr>
            <tr>
                <td> Name: </td>
                <td> <span id="uName"></span></td>
            </tr>

            <tr>
                <td> User Name:</td>
                <td> <span id="username"></span></td>
            </tr>
            <tr>
                <td> Email: </td>
                <td><span id="uEmail"></span></td>
            </tr>
            <tr>
                <td> City: </td>
                <td> <span id="uCity"></span></td>
            </tr>
            <tr>
                <td> Street:</td>
                <td> <span id="uStreet"></span></td>
            </tr>
            <tr>
                <td>zipcode</td>
                <td> <span id="uZipcode"></span></td>
            </tr>

            <tr>
                <td> Result:</td>
                <td> <span id="result"></span></td>
            </tr>
        </table>

        <br>
    </form>
    <script>

        async function getData() {
            const response = await fetch('https://jsonplaceholder.typicode.com/users');

            const data = await response.json();

            i = document.getElementById("user").value;
            if (i !== '') {
                const {
                    id = data[i - 1]['id'],
                    name = data[i - 1]['name'],
                    username = data[i - 1]['username'],
                    email = data[i - 1]['email'],
                    address = data[i - 1]['address']
                } = data
                console.log(data)
                console.log(`ID: ${id}`);
                console.log(`Name: ${name}`)
                console.log(`Username: ${username}`)
                console.log(`Email: ${email}`)
                console.log('City: ' + address.city)
                console.log('Street: ' + address.street)
                console.log('Zipcode: ' + address.zipcode)

                console.log(document.getElementById('uName').innerHTML = name);
                console.log(document.getElementById('username').innerHTML = username);
                console.log(document.getElementById('uEmail').innerHTML = email);
                console.log(document.getElementById('uCity').innerHTML = address.city);
                console.log(document.getElementById('uStreet').innerHTML = address.street);
                console.log(document.getElementById('uZipcode').innerHTML = address.zipcode);

                document.getElementById("result").innerHTML = "User found";
                document.getElementById("result").style.color = "green";
            }
            else {
                document.getElementById("result").innerHTML = "User not found";
                document.getElementById("result").style.color = "red";
                alert("Empty input!! please enter an ID");
            }
        }
    </script>

    <form action="" method="">
        <h3>Get User Image Using Async/Await </h3>
        <table class="c1">
            <tr>
                <td> ID: </td>
                <td><input type="text" id="imgId" /></td>
            </tr>
            <tr>
                <td></td>
                <td> <input type="button" onClick="getImage()" Value="Get Image" /> <input type="reset" Value="Reset" />
                </td>
            </tr>
            <tr>
                <td> Album ID: </td>
                <td> <span id="album"></span></td>
            </tr>

            <tr class="image">
                <td> Image:</td>
                <td> <span><img id="image" alt="" src=""></span></td>
            </tr>

            <tr>
                <td> Result:</td>
                <td> <span id="result2"></span></td>
            </tr>
        </table>

        <br>
    </form>

    <script>
        async function getImage() {
            const response = await fetch('https://jsonplaceholder.typicode.com/photos');

            const data = await response.json();

            i = document.getElementById("imgId").value;
            if (i !== '') {
                const {
                    id = data[i - 1]['id'],
                    albumId = data[i - 1]['albumId'],
                    title = data[i - 1]['title'],
                    url = data[i - 1]['url']
                } = data
                console.log(data)
                console.log(`ID: ${id}`);
                console.log(`AlbumId: ${albumId}`)
                console.log(`Title: ${title}`)
                console.log(`URL: ${url}`)

                console.log(document.getElementById("album").innerHTML = albumId);
                console.log(document.getElementById("image").src = url);
                console.log(document.getElementById("image").title = title); //alt

                document.getElementById("result2").innerHTML = "Image found";
                document.getElementById("result2").style.color = "green";
            }
            else {
                document.getElementById("result2").innerHTML = "Image not found";
                document.getElementById("result2").style.color = "red";
                alert("Empty input!! please enter an ID");
            }
        }
    </script>

</body>

</html>